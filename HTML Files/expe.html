<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <link rel="icon" href="/LOGO.png" type="image/png">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Survey Surfer</title>
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico" />
    <link rel="icon" type="image/png" href="/assets/LOGO.png">
    <style>
        .invisible {
            display: none;
        }
    </style>
</head>
<body>
    <div class="search-wrapper"></div>

    <div class="user-cards" data-user-cards-container></div>

    <template data-user-template>
        <div class="card">
            <div class="header" data-header></div>
            <div class="body" data-body></div>
        </div>
    </template>

    <main class="container">
        <nav>
            <ul>
                <li><img src="./assets/LOGO.png" alt="Your Logo" style = "height: 150px; width: 250px;" 
                    /></li>
                <li><h1>Survey Surfer</h1></li>
            </ul>
            <ul>
                <li>
                    <a href="about.html">About Us</a>
                </li>
                <li>
                    <a href="#">Our Services</a>
                </li>
                <li>
                    <a href="contact.html">Contact Us</a>
                </li>
                <?php if (isset($_SESSION['id'])): ?>
                    <li>
                        <a class="btn btn-primary" href="logout.php" role="button">Log Out</a>
                    </li>
                <?php else: ?>
                    <li>
                        <a class="btn btn-primary" href="login.php" role="button">Log In</a>
                    </li>
                <?php endif; ?>
            </ul>
        </nav>
        <input type="search" id="search" data-search placeholder="Search or survey topics" />

        <div>
            <div class="grid">
                <div>
                    <article>
                        <header>Apple iPhone</header>
                        <ul>
                            <li>Best Apple iPhone?</li>
                        </ul>
                        <footer>
                            <a role="button" href="survey.php?topic=apple">Take Survey</a>
                        </footer>
                    </article>
                </div>
                <div>
                    <article>
                        <header>Dell Laptops</header>
                        <ul>
                            <li>Best Dell Laptop?</li>
                        </ul>
                        <footer>
                            <a role="button" href="survey.php?topic=dell">Take Survey</a>
                        </footer>
                    </article>
                </div>
                <div>
                    <article>
                        <header>Cricketer</header>
                        <ul>
                            <li>Best player?</li>
                        </ul>
                        <footer>
                            <a role="button" href="survey.php?topic=cricket">Take Survey</a>
                        </footer>
                    </article>
                </div>
            </div>
            <div>
                <div class="grid">
                    <article>
                        <header>Colgate</header>
                        <ul>
                            <li>Best Type of Product?</li>
                        </ul>
                        <footer>
                            <a role="button" href="survey.php?topic=colgate">Take Survey</a>
                        </footer>
                    </article>
                    <article>
                        <header>Adidas</header>
                        <ul>
                            <li>Best Type of Adidas' Product?</li>
                        </ul>
                        <footer>
                            <a role="button" href="survey.php?topic=adidas">Take Survey</a>
                        </footer>
                    </article>
                    <article>
                        <header>Disney Streaming Service</header>
                        <ul>
                            <li>Best Disney streaming service?</li>
                        </ul>
                        <footer>
                            <a role="button" href="survey.php?topic=disney">Take Survey</a>
                        </footer>
                    </article>
                </div>
                <div class="grid">
                    <article>
                        <header>Sony Headphones</header>
                        <ul>
                            <li>Best Type of Sony's Headphones?</li>
                        </ul>
                        <footer>
                            <a role="button" href="survey.php?topic=sony">Take Survey</a>
                        </footer>
                    </article>
                    <article>
                        <header>Toyota</header>
                        <ul>
                            <li>Best Toyota Car?</li>
                        </ul>
                        <footer>
                            <a role="button" href="survey.php?topic=toyota">Take Survey</a>
                        </footer>
                    </article>
                    <article>
                        <header>Gaming Console</header>
                        <ul>
                            <li>Your favorite Gaming Console?</li>
                        </ul>
                        <footer>
                            <a role="button" href="survey.php?topic=gaming">Take Survey</a>
                        </footer>
                    </article>
                </div>
            </div>
        </div>
    </main>
    <script>
        const search = document.querySelector("input[type='search']");
        const headers = document.querySelectorAll("article header");

        search.oninput = (e) => {
            const searchedSurvey = e.target.value;
            if (searchedSurvey === "") {
                return headers.forEach((header) =>
                    header.parentElement.classList.remove("invisible")
                );
            }

            headers.forEach((header) => {
                const isInSearch = header.innerHTML
                    .toLowerCase()
                    .includes(searchedSurvey.toLowerCase());
                if (!isInSearch) {
                    header.parentElement.classList.add("invisible");
                } else {
                    header.parentElement.classList.remove("invisible");
                }
            });
        };
    </script>
</body>